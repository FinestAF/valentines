<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Valentines for Sara</title>
    <style>
      :root {
        --bg-url: url("background.jpg"); /* replace with your image path */
        --card-bg: rgba(0, 0, 0, 0.55);
        --text: #ffffff;
        --muted: rgba(255, 255, 255, 0.85);
        --yes: #ff3b7a;
        --no: #2b2b2b;
        --stroke: rgba(255, 255, 255, 0.18);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        color: var(--text);
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background:
          radial-gradient(1200px 700px at 50% 35%, rgba(0, 0, 0, 0.22), rgba(0, 0, 0, 0.82)),
          var(--bg-url) center / cover no-repeat fixed;
        overflow: hidden;
      }

      .card {
        width: min(720px, calc(100vw - 32px));
        padding: 28px 20px;
        border-radius: 22px;
        background: var(--card-bg);
        border: 1px solid var(--stroke);
        backdrop-filter: blur(10px);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.45);
        text-align: center;
        position: relative;
      }

      h1 {
        margin: 0 0 10px;
        font-size: clamp(26px, 3.4vw, 40px);
        letter-spacing: 0.2px;
      }

      p {
        margin: 0 0 22px;
        color: var(--muted);
        font-size: clamp(15px, 2vw, 18px);
      }

      .playfield {
        position: relative;
        width: 100%;
        height: 240px;
        margin-top: 10px;
        border-radius: 18px;
        border: 1px dashed rgba(255, 255, 255, 0.22);
        background: rgba(255, 255, 255, 0.06);
        overflow: hidden;
      }

      .btn-row {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
      }

      button {
        appearance: none;
        border: 0;
        border-radius: 999px;
        padding: 14px 22px;
        font-size: 18px;
        font-weight: 700;
        color: #fff;
        cursor: pointer;
        user-select: none;
        outline: none;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.35);
        transition: transform 120ms ease, filter 120ms ease, opacity 160ms ease;
      }

      button:active {
        transform: scale(0.98);
      }

      .yes {
        background: linear-gradient(135deg, rgba(255, 59, 122, 1), rgba(255, 126, 179, 1));
        border: 1px solid rgba(255, 255, 255, 0.22);
        position: relative;
      }

      .no {
        background: linear-gradient(135deg, rgba(50, 50, 50, 1), rgba(30, 30, 30, 1));
        border: 1px solid rgba(255, 255, 255, 0.14);
        position: absolute;
        left: 58%;
        top: 58%;
        transform: translate(-50%, -50%);
      }

      .hidden {
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
      }

      .message {
        margin-top: 18px;
        font-size: clamp(18px, 2.6vw, 26px);
        font-weight: 800;
        line-height: 1.2;
        min-height: 1.2em;
      }

      /* Animations */
      @keyframes shake {
        0% { transform: translateX(0); }
        15% { transform: translateX(-6px); }
        30% { transform: translateX(6px); }
        45% { transform: translateX(-5px); }
        60% { transform: translateX(5px); }
        75% { transform: translateX(-3px); }
        100% { transform: translateX(0); }
      }

      @keyframes pulse {
        0%   { transform: scale(1); filter: brightness(1); }
        50%  { transform: scale(1.05); filter: brightness(1.08); }
        100% { transform: scale(1); filter: brightness(1); }
      }

      .shake {
        animation: shake 520ms ease-in-out;
      }

      .pulse {
        animation: pulse 900ms ease-in-out infinite;
      }

      /* Reduced motion */
      @media (prefers-reduced-motion: reduce) {
        .shake, .pulse { animation: none !important; }
        * { scroll-behavior: auto !important; }
      }

      .hint {
        margin-top: 10px;
        font-size: 13px;
        color: rgba(255, 255, 255, 0.72);
      }
    </style>
  </head>

  <body>
    <main class="card" role="main" aria-label="Valentines page">
      <h1>Will you be my Valentines, Sara?</h1>
      <p>Choose wisely.</p>

      <section class="playfield" id="playfield" aria-label="Buttons area">
        <div class="btn-row">
          <button class="yes" id="yesBtn" type="button">Yes</button>
          <button class="no" id="noBtn" type="button">No</button>
        </div>
      </section>

      <div class="message" id="message" aria-live="polite"></div>
      <div class="hint">Tip: set your background image by replacing background.jpg in the CSS.</div>
    </main>

    <script>
      (function () {
        const playfield = document.getElementById("playfield");
        const yesBtn = document.getElementById("yesBtn");
        const noBtn = document.getElementById("noBtn");
        const message = document.getElementById("message");

        let yesStage = 0; // 0 = first click, 1 = confirm click, 2 = done

        function clamp(n, min, max) {
          return Math.max(min, Math.min(max, n));
        }

        function placeNoButtonRandomly() {
          const pf = playfield.getBoundingClientRect();
          const b = noBtn.getBoundingClientRect();

          // Keep button fully inside playfield with a small padding
          const pad = 12;
          const maxX = pf.width - b.width - pad;
          const maxY = pf.height - b.height - pad;

          const x = Math.random() * maxX + pad;
          const y = Math.random() * maxY + pad;

          noBtn.style.left = x + "px";
          noBtn.style.top = y + "px";
          noBtn.style.transform = "translate(0, 0)";
        }

        function dodgeNoButton() {
          if (noBtn.classList.contains("hidden")) return;
          placeNoButtonRandomly();
        }

        // Move "No" whenever she tries to click it (and also on hover/touch)
        ["mouseenter", "mouseover", "pointerdown", "mousedown", "touchstart"].forEach((evt) => {
          noBtn.addEventListener(evt, (e) => {
            // Prevent accidental click on touch devices
            e.preventDefault?.();
            dodgeNoButton();
          }, { passive: false });
        });

        // Also move if pointer gets close (fun)
        playfield.addEventListener("pointermove", (e) => {
          if (noBtn.classList.contains("hidden")) return;

          const pf = playfield.getBoundingClientRect();
          const nb = noBtn.getBoundingClientRect();

          const px = e.clientX;
          const py = e.clientY;

          // Distance from pointer to center of "No"
          const cx = nb.left + nb.width / 2;
          const cy = nb.top + nb.height / 2;
          const dx = px - cx;
          const dy = py - cy;
          const dist = Math.hypot(dx, dy);

          // If close enough, dodge
          if (dist < 90) dodgeNoButton();
        });

        function setButtonsHidden(hidden) {
          if (hidden) {
            yesBtn.classList.add("hidden");
            noBtn.classList.add("hidden");
          } else {
            yesBtn.classList.remove("hidden");
            noBtn.classList.remove("hidden");
          }
        }

        function animateYesToAreYouSure() {
          // Shake once, then start pulsing with new text
          yesBtn.classList.add("shake");
          setTimeout(() => yesBtn.classList.remove("shake"), 540);

          yesBtn.textContent = "Are you sure?";
          yesBtn.classList.add("pulse");
        }

        yesBtn.addEventListener("click", () => {
          if (yesStage === 2) return;

          if (yesStage === 0) {
            yesStage = 1;
            animateYesToAreYouSure();
            return;
          }

          if (yesStage === 1) {
            yesStage = 2;
            yesBtn.classList.remove("pulse");
            setButtonsHidden(true);
            message.textContent = "Thank you for being my valentines Sara, I love you";
          }
        });

        // On load, randomize first "No" position a bit for consistency across screens
        window.addEventListener("load", () => {
          // Put it somewhere not too close to the center where "Yes" is
          placeNoButtonRandomly();
          // Nudge again so it feels lively
          setTimeout(placeNoButtonRandomly, 250);
        });

        // Keep the "No" button inside on resize
        window.addEventListener("resize", () => {
          if (!noBtn.classList.contains("hidden")) placeNoButtonRandomly();
        });
      })();
    </script>
  </body>
</html>
